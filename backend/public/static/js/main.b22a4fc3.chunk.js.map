{"version":3,"sources":["images/pop-up/close_icon.svg","images/logo/mesto-logo.svg","images/element/delete.svg","images/button/pen.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Ð¡ard.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","href","src","logo","alt","api","baseUrl","groupId","authorization","this","_baseUrl","_groupId","_data","headers","method","body","contentType","_resetParameters","JSON","stringify","res","ok","json","Promise","reject","status","fetch","then","_getResult","data","_getData","cardId","isLike","CurrentUserContext","React","createContext","Card","link","name","likes","onCardClick","onCardLike","onCardDelete","owner","currentUser","useContext","isOwn","_id","isLiked","some","i","onClick","buttonDelete","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","cards","setCards","useEffect","getCards","catch","error","console","log","avatar","about","pen","map","card","key","linkCard","Footer","PopupWithForm","title","children","isOpen","onClose","textButton","onSubmit","id","noValidate","closeIcon","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","onChangeName","e","preventDefault","target","value","onChangeAbout","PopupElementEditProfile","minLength","maxLength","onChange","pattern","required","onUpdateUser","EditAvatarPopup","onUpdateAvatar","linkCardRef","useRef","PopupElementEditAvatar","ref","placeholder","current","AddPlacePopup","nameCardRef","PopupElementAddCard","App","isEditProfilePopupOpen","openEditProfilePopupClick","isAddPlacePopupOpen","openAddPlacePopupClick","isEditAvatarPopupOpen","openEditAvatarPopupClick","isDeleteCardPopupOpen","selectedCard","changeCurrentUser","closeAllPopups","getUserInfo","Provider","addLikeOrDislikeCard","newCard","newCards","c","deleteCard","filter","editProfileForm","editAvatar","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.b22a4fc3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close_icon.c2d0901f.svg\";","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.94cbab21.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.9c3b03ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen.58afbe73.svg\";","import React from 'react';\r\nimport logo from '../images/logo/mesto-logo.svg';\r\n\r\nexport default function Header(props){\r\n    return(\r\n        <header className=\"header header-margin\">\r\n            <a href=\"#\" className=\"header__href\">\r\n                <img src={logo} alt=\"ÐÐ¾Ð³Ð¾ÑÐ¸Ð¿ ÑÑÑÐ°Ð½Ð¸ÑÑ Ð¼ÐµÑÑ Ð² Ð Ð¾ÑÑÐ¸Ð¸\" className=\"header__logo\" />\r\n            </a>\r\n        </header>\r\n    );\r\n}\r\n","class Api{\r\n    constructor({baseUrl, groupId, authorization}){\r\n        this._baseUrl= baseUrl;\r\n        this._groupId = groupId;\r\n        this._data = {\r\n            headers: {\r\n                authorization: authorization\r\n            }\r\n        };\r\n    }\r\n\r\n    _getData({method = \"GET\", body, contentType = ''}){\r\n        this._resetParameters();\r\n\r\n        this._data.method = method;\r\n        if(body){\r\n            this._data.body = JSON.stringify(body);\r\n        }\r\n        if(contentType){\r\n            this._data.headers['Content-Type'] = contentType;\r\n        }\r\n    }\r\n\r\n    _resetParameters(){\r\n        delete this._data.method;\r\n        delete this._data.body;\r\n        delete this._data.headers['Content-Type'];\r\n    }\r\n\r\n    _getResult(res){\r\n        return res.ok ?\r\n                res.json() :\r\n                Promise.reject(`ÐÑÐ¸Ð±ÐºÐ°: ${res.status}`);\r\n    }\r\n\r\n    getUserInfo(){\r\n        return fetch(`${this._baseUrl}/${this._groupId}/users/me`, this._data)\r\n                    .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n    getCards(){\r\n        return fetch(`${this._baseUrl}/${this._groupId}/cards`, this._data)\r\n                    .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n    addCard(data){\r\n\r\n        this._getData({\r\n            method: 'POST',\r\n            body: data,\r\n            contentType: 'application/json'\r\n        });\r\n\r\n        return fetch(`${this._baseUrl}/${this._groupId}/cards`, this._data)\r\n                .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n    deleteCard(cardId){\r\n        this._getData({\r\n            method: 'DELETE'\r\n        });\r\n\r\n        return fetch(`${this._baseUrl}/${this._groupId}/cards/${cardId}`, this._data)\r\n                .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n    addLikeOrDislikeCard(cardId, isLike){\r\n        this._getData({\r\n            method: isLike ? 'PUT' : 'DELETE'\r\n        });\r\n\r\n        return fetch(`${this._baseUrl}/${this._groupId}/cards/likes/${cardId}`, this._data)\r\n                .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n\r\n    editProfileForm(data){\r\n        this._getData({\r\n            method: 'PATCH',\r\n            body: data,\r\n            contentType: 'application/json'\r\n        });\r\n\r\n        return fetch(`${this._baseUrl}/${this._groupId}/users/me`, this._data)\r\n                .then(res => { return this._getResult(res) });\r\n    }\r\n\r\n    editAvatar(data){\r\n        this._getData({\r\n            method: 'PATCH',\r\n            body: data,\r\n            contentType: 'application/json'\r\n        });\r\n\r\n        return fetch(`${this._baseUrl}/${this._groupId}/users/me/avatar`, this._data)\r\n                    .then(res => { return this._getResult(res) });\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1',\r\n    groupId: 'cohort-12',\r\n    authorization: 'f77ffc2a-fabb-4e1a-b96f-391d240718e4'\r\n  });\r\n\r\nexport default api;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport buttonDelete from '../images/element/delete.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props){\r\n\r\n    const {link, name, likes, onCardClick, onCardLike, onCardDelete,  owner} = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = owner._id !== currentUser._id;\r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(link);\r\n      }\r\n\r\n    function handleLikeClick(){\r\n        onCardLike(props);\r\n    }  \r\n\r\n    function handleDeleteClick(){\r\n        onCardDelete(props);\r\n    }\r\n\r\n    return (\r\n        <article className=\"element\">\r\n            <img className=\"element__image\" src={`${link}`} onClick={handleClick}/>\r\n            <img \r\n                src={buttonDelete} \r\n                alt=\"ÐÐ½Ð¾Ð¿ÐºÐ° ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸\" \r\n                className={`element__button-delete ${isOwn && 'element__button-delete_deactivation'}`} \r\n                onClick={handleDeleteClick}\r\n            />\r\n            <div className=\"element__container\">\r\n            <p className=\"element__text\">{name}</p>\r\n                <div className=\"element__container_likes\">\r\n                    <button \r\n                        type=\"button\" \r\n                        className={`element__button-like ${isLiked && 'element__button-like_action'}`} \r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p className=\"element__count-like\">{likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport api from '../utils/api';\r\nimport Card from './Ð¡ard';\r\nimport pen from '../images/button/pen.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main({onEditProfile, onAddPlace, onEditAvatar, handleCardClick, onCardLike, cards, onCardDelete, setCards}){\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    function showCards(){\r\n        api.getCards() \r\n            .then((res) => {\r\n                setCards(res);\r\n            })\r\n            .catch((error) => console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¿ÐµÑÐ²Ð¸ÑÐ½Ð¾Ð¹ Ð·Ð°Ð³ÑÑÐ·ÐºÐµ ÐºÐ°ÑÑÐ¾ÑÐµÐº', error));\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        showCards();\r\n    },[]);\r\n\r\n    const {name, avatar, about} = currentUser;\r\n\r\n    return(\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n            <div className=\"profile__container-avatar\">\r\n                <div className=\"profile__avatar-opacity\" src={`${pen}`} onClick={onEditAvatar}/>\r\n                <img alt=\"ÐÐ²Ð°ÑÐ°ÑÐºÐ° Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ\" className=\"profile__avatar\" src={`${avatar}`}/>\r\n            </div>\r\n            <div className=\"profile-info\">\r\n                <div className=\"profile-info__container\">\r\n                    <h1 className=\"profile-info__name\">{name}</h1>\r\n                    <button className=\"profile-info__edit-button\" type=\"button\" onClick={onEditProfile}/>\r\n                </div>\r\n                <p className=\"profile-info__information-person\">{about}</p>\r\n            </div>\r\n            <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}/>\r\n            </section>\r\n            <section className=\"elements\">\r\n                {\r\n                    cards && \r\n                    cards.map((card) => \r\n                        <Card \r\n                            key={card._id} \r\n                            {...card}\r\n                            onCardClick={(linkCard) => handleCardClick(linkCard)}\r\n                            onCardLike={(card) => onCardLike(card)}\r\n                            onCardDelete={(card) => onCardDelete(card)}\r\n                        />)\r\n                }\r\n            </section>\r\n      </main>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function Footer(props){\r\n    return(\r\n      <footer className=\"footer margin-footer\">\r\n        <p className=\"footer__copyright\">Â© 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}","import React from 'react';\r\nimport closeIcon from '../images/pop-up/close_icon.svg';\r\n\r\nfunction PopupWithForm({title, name, children, isOpen, onClose, textButton, onSubmit}){\r\n        return(\r\n        <div className={`popup ${isOpen && 'popup_opened'}`} id={name}>\r\n          <form className=\"popup__container\" method=\"post\" onSubmit={onSubmit} noValidate>\r\n            <img src={closeIcon} alt=\"ÐÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑÑÑÐ¸Ñ Ð¼Ð¾Ð´Ð°Ð»ÑÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð°\" className=\"popup__icon-close popup__icon-close_form\" onClick={onClose}/>\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            {children}\r\n            <button className=\"popup__button\" type=\"submit\">{textButton}</button>\r\n          </form>\r\n        </div>\r\n        );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport closeIcon from '../images/pop-up/close_icon.svg';\r\n\r\nfunction ImagePopup({card , onClose}){\r\n    \r\n    return(\r\n        <div className={`popup ${card ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__main-container\">\r\n                <div className=\"popup__footer-container\">\r\n                <img className=\"popup__view-photo-container\" src={card}/>\r\n                <img src={closeIcon} alt=\"ÐÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑÑÑÐ¸Ñ Ð¼Ð¾Ð´Ð°Ð»ÑÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð°\" className=\"popup__icon-close icon-close-form_view-photo\" onClick={onClose}/>\r\n                </div>\r\n                <p className=\"popup__view-photo-info\" />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props){\r\n    const {isOpen, onClose} = props;\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]);\r\n\r\n    function onChangeName(e){\r\n        e.preventDefault();\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function onChangeAbout(e){\r\n        e.preventDefault();\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n    }\r\n    \r\n    function PopupElementEditProfile(){\r\n        return (\r\n            <>\r\n                <input \r\n                    id=\"name_person\" \r\n                    className=\"popup__field popup__field_name_person\" \r\n                    type=\"text\" \r\n                    name=\"namePerson\" \r\n                    minLength={2} \r\n                    maxLength={40} \r\n                    onChange={onChangeName}\r\n                    value={name}\r\n                    pattern=\"^[A-Za-zÐ-Ð¯Ð°-ÑÐÑ\\s\\-]+$\" \r\n                    required \r\n                />\r\n                <span id=\"name_person-error\" className=\"popup__field-error\" />\r\n                <input \r\n                    id=\"inform_person\" \r\n                    className=\"popup__field popup__field_inform_person\" \r\n                    type=\"text\" \r\n                    name=\"informPerson\" \r\n                    minLength={2} \r\n                    maxLength={200}  \r\n                    onChange={onChangeAbout}\r\n                    value={description} \r\n                    required \r\n                />\r\n                <span id=\"inform_person-error\" className=\"popup__field-error\" />\r\n            </>\r\n        );\r\n    }\r\n    \r\n    return(\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            children={<PopupElementEditProfile/>}\r\n            title='Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ Ð¿ÑÐ¾ÑÐ¸Ð»Ñ'\r\n            name ='popupEditProfile'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            textButton='Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ'\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props){\r\n    const {isOpen, onClose, onUpdateAvatar} = props;\r\n    const linkCardRef = React.useRef();\r\n\r\n    function PopupElementEditAvatar(){\r\n        return (\r\n            <>\r\n                <input id=\"link_avatar\" className=\"popup__field\" type=\"url\" name=\"linkCard\" ref={linkCardRef} placeholder=\"Ð¡ÑÑÐ»ÐºÐ° Ð½Ð° ÐºÐ°ÑÑÐ¸Ð½ÐºÑ\" required />\r\n                <span id=\"link_avatar-error\" className=\"popup__field-error\" />\r\n            </>\r\n        );\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        onUpdateAvatar({\r\n            avatar: linkCardRef.current.value\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            children={<PopupElementEditAvatar/>}\r\n            title='ÐÐ±Ð½Ð¾Ð²Ð¸ÑÑ Ð°Ð²Ð°ÑÐ°Ñ'\r\n            name ='popupEditAvatar'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            textButton='Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ'\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props){\r\n    const {isOpen, onClose, onAddPlace} = props;\r\n    const nameCardRef = React.useRef();\r\n    const linkCardRef = React.useRef();\r\n\r\n    function PopupElementAddCard(){\r\n        return (\r\n            <>\r\n                <input \r\n                    id=\"name_card\" \r\n                    className=\"popup__field popup__field_name_card\" \r\n                    type=\"text\" \r\n                    minLength={1} \r\n                    maxLength={30} \r\n                    name=\"nameCard\" \r\n                    placeholder=\"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ\" \r\n                    ref={nameCardRef}\r\n                    required \r\n                />\r\n                <span id=\"name_card-error\" className=\"popup__field-error\" />\r\n                <input \r\n                    id=\"link_card\" \r\n                    className=\"popup__field popup__field_link_card\" \r\n                    type=\"url\" \r\n                    name=\"linkCard\" \r\n                    placeholder=\"Ð¡ÑÑÐ»ÐºÐ° Ð½Ð° ÐºÐ°ÑÑÐ¸Ð½ÐºÑ\" \r\n                    ref={linkCardRef}\r\n                    required \r\n                />\r\n                <span id=\"link_card-error\" className=\"popup__field-error\" />\r\n            </>\r\n        );\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({ \r\n            name: nameCardRef.current.value,\r\n            link: linkCardRef.current.value\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            children={<PopupElementAddCard/>}\r\n            title='ÐÐ¾Ð²Ð¾Ðµ Ð¼ÐµÑÑÐ¾'\r\n            name ='popupAddCard'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            textButton='Ð¡Ð¾Ð·Ð´Ð°ÑÑ'\r\n        />\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport '../index.css';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nfunction PopupElementEditProfile(){\r\n  return (\r\n      <>\r\n          <input id=\"name_person\" className=\"popup__field popup__field_name_person\" type=\"text\" name=\"namePerson\" minLength={2} maxLength={40} pattern=\"^[A-Za-zÐ-Ð¯Ð°-ÑÐÑ\\s\\-]+$\" required />\r\n          <span id=\"name_person-error\" className=\"popup__field-error\" />\r\n          <input id=\"inform_person\" className=\"popup__field popup__field_inform_person\" type=\"text\" name=\"informPerson\" minLength={2} maxLength={200} required />\r\n          <span id=\"inform_person-error\" className=\"popup__field-error\" />\r\n      </>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, openEditProfilePopupClick] = React.useState(false);\r\n  const [isAddPlacePopupOpen, openAddPlacePopupClick] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, openEditAvatarPopupClick] = React.useState(false);\r\n  const [isDeleteCardPopupOpen, openDeleteCardPopupClick] = React.useState(false);\r\n  const [selectedCard, handleCardClick] = React.useState('');\r\n  const [currentUser, changeCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  function getCurrentUser(){\r\n    api.getUserInfo()\r\n            .then((res) => {\r\n                changeCurrentUser(res);\r\n            })\r\n            .catch((error) => console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¿ÐµÑÐ²Ð¸ÑÐ½Ð¾Ð¹ Ð·Ð°Ð³ÑÑÐ·ÐºÐµ Ð´Ð°Ð½Ð½ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ', error));\r\n  }\r\n\r\n  function handleEditProfileClick(){\r\n    openEditProfilePopupClick(true);\r\n  }\r\n\r\n  function handleEditAvatarClick(){\r\n    openEditAvatarPopupClick(true);\r\n  }\r\n\r\n  function handleAddPlaceClick(){\r\n    openAddPlacePopupClick(true);\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    openEditProfilePopupClick(false);\r\n    openEditAvatarPopupClick(false);\r\n    openAddPlacePopupClick(false);\r\n    handleCardClick('');\r\n  }\r\n\r\n  function handleUpdateAvatar(data){\r\n    api.editAvatar(data)\r\n    .then((res) => {\r\n      changeCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((error) => console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ð¸ Ð°Ð²Ð°ÑÐ°ÑÐ° Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ', error));\r\n  }\r\n\r\n  function handleUpdateUser(data){\r\n    api.editProfileForm(data)\r\n      .then((res) => {\r\n        changeCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ð¸ Ð´Ð°Ð½Ð½ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ', error));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.addLikeOrDislikeCard(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð»Ð°Ð¹ÐºÐ°', error));\r\n  }\r\n\r\n    function handleCardDelete(card){\r\n        api.deleteCard(card._id).then((newCard) => {\r\n            const newCards = cards.filter((c) => c._id !== card._id);\r\n            setCards(newCards);\r\n          });\r\n    }\r\n\r\n    function handleAddPlaceSubmit(data){\r\n      api.addCard(data)\r\n        .then((newCard) => {\r\n          setCards([...cards, newCard]);\r\n          closeAllPopups();\r\n        });\r\n    }\r\n\r\n  React.useEffect(() => {\r\n    getCurrentUser();\r\n  }, []);\r\n  \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"page\">\r\n          <Header/>\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            handleCardClick={(linkCard) => handleCardClick(linkCard)}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            setCards={setCards}\r\n          />\r\n          <Footer/>\r\n        </div>\r\n\r\n        <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        \r\n        <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <PopupWithForm\r\n            children={''}\r\n            title='ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ?'\r\n            name ='popupDeleteCard'\r\n            isOpen={isDeleteCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            textButton='ÐÐ°'\r\n        />\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}